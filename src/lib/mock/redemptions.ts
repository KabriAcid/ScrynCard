import { Redemption } from "@/lib/mockTypes";
import { generateId } from "./utils";
import { mockScratchCards } from "./cards";

export const mockRedemptions: Redemption[] = [
  {
    id: generateId("RED"),
    cardId: mockScratchCards[0].id,
    card: mockScratchCards[0],
    phoneNumber: "08067234567",
    mobileOperator: "Airtel",
    giftType: "airtime",
    amount: 5000,
    status: "completed",
    operatorReference: "ATL-20240120-001",
    fraudScore: 15,
    fraudFlags: [],
    completedAt: new Date(2024, 2, 20).toISOString(),
    expiryDate: new Date(2024, 5, 20).toISOString(),
    createdAt: new Date(2024, 2, 20).toISOString(),
  },
  {
    id: generateId("RED"),
    cardId: mockScratchCards[1].id,
    card: mockScratchCards[1],
    phoneNumber: "07031234567",
    mobileOperator: "MTN",
    giftType: "data",
    amount: 1000,
    dataSize: 500,
    status: "completed",
    operatorReference: "MTN-20240121-001",
    fraudScore: 12,
    fraudFlags: [],
    completedAt: new Date(2024, 2, 21).toISOString(),
    expiryDate: new Date(2024, 3, 21).toISOString(),
    createdAt: new Date(2024, 2, 21).toISOString(),
  },
  {
    id: generateId("RED"),
    cardId: mockScratchCards[2].id,
    card: mockScratchCards[2],
    phoneNumber: "07051234567",
    mobileOperator: "Glo",
    giftType: "airtime",
    amount: 2000,
    status: "processing",
    fraudScore: 18,
    fraudFlags: [],
    createdAt: new Date(2024, 3, 10).toISOString(),
  },
  {
    id: generateId("RED"),
    cardId: mockScratchCards[3].id,
    card: mockScratchCards[3],
    phoneNumber: "08091234567",
    mobileOperator: "9Mobile",
    giftType: "data",
    amount: 1500,
    dataSize: 1000,
    status: "completed",
    operatorReference: "9M-20240315-001",
    fraudScore: 12,
    fraudFlags: [],
    completedAt: new Date(2024, 3, 15).toISOString(),
    expiryDate: new Date(2024, 4, 15).toISOString(),
    createdAt: new Date(2024, 3, 15).toISOString(),
  },
  {
    id: generateId("RED"),
    cardId: mockScratchCards[4].id,
    card: mockScratchCards[4],
    phoneNumber: "07011234567",
    mobileOperator: "Airtel",
    giftType: "airtime",
    amount: 10000,
    status: "completed",
    operatorReference: "ATL-20240318-001",
    fraudScore: 19,
    fraudFlags: [],
    completedAt: new Date(2024, 3, 18).toISOString(),
    expiryDate: new Date(2024, 6, 18).toISOString(),
    createdAt: new Date(2024, 3, 18).toISOString(),
  },
  {
    id: generateId("RED"),
    cardId: mockScratchCards[5]?.id || mockScratchCards[0].id,
    card: mockScratchCards[5] || mockScratchCards[0],
    phoneNumber: "07031234568",
    mobileOperator: "MTN",
    giftType: "airtime",
    amount: 5000,
    status: "completed",
    operatorReference: "MTN-20240320-001",
    fraudScore: 14,
    fraudFlags: [],
    completedAt: new Date(2024, 3, 20).toISOString(),
    expiryDate: new Date(2024, 6, 20).toISOString(),
    createdAt: new Date(2024, 3, 20).toISOString(),
  },
  {
    id: generateId("RED"),
    cardId: mockScratchCards[4].id,
    card: mockScratchCards[4],
    phoneNumber: "07051234568",
    mobileOperator: "Glo",
    giftType: "data",
    amount: 2000,
    dataSize: 1500,
    status: "completed",
    operatorReference: "GLO-20240322-001",
    fraudScore: 11,
    fraudFlags: [],
    completedAt: new Date(2024, 3, 22).toISOString(),
    expiryDate: new Date(2024, 4, 22).toISOString(),
    createdAt: new Date(2024, 3, 22).toISOString(),
  },
  {
    id: generateId("RED"),
    cardId: mockScratchCards[3].id,
    card: mockScratchCards[3],
    phoneNumber: "08091234568",
    mobileOperator: "9Mobile",
    giftType: "airtime",
    amount: 3000,
    status: "processing",
    fraudScore: 16,
    fraudFlags: [],
    createdAt: new Date(2024, 3, 25).toISOString(),
  },
];

export const getRecentRedemptions = (limit: number = 5): Redemption[] =>
  [...mockRedemptions]
    .sort(
      (a, b) =>
        new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()
    )
    .slice(0, limit);
